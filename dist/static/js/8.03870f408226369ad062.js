webpackJsonp([8],{JlTN:function(t,e){},g6NK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),n=(a("mtWM"),a("NYxO")),o={name:"wblist",data:function(){return{pageSize:10,pageNo:1,total:0,NetbarId:"",NetbarName:"",AccountNumber:"",State:"",startTime:"",endTime:"",Contacts:"",Datevalue:{},GetNetbarUserList:[],statusList:[{id:"0",name:"申请中"},{id:"1",name:"已开启"},{id:"2",name:"已关闭"}],VerifyformationCodeName:!1,VerifyformationList:{NetbarID:"",NetbarPhone:"",NetbarContacts:""},renderHeaderList:{1:"平台生成的网吧对应的唯一网吧活动后台登录账号",6:"对应网吧580客户端是否开启活动入口的状态显示，如需开启或关闭，请联系客户经理"},rules:{NetbarContacts:[{required:!0,message:"请输入网吧联系人",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],NetbarPhone:[{required:!0,message:"请输入联系人手机号码",trigger:"blur"},{pattern:/^1[2|3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码"}]}}},computed:i()({},Object(n.b)(["Id","AgencyName","AgencyBalance","EarningOfPaying"])),mounted:function(){this.getData()},methods:{renderHeader:function(t,e){var a=e.column,r=e.$index;return t("div",{style:"display:flex;margin:auto;line-height: 26px;padding: 0;"},[t("span",a.label),t("prompt-message",{props:{messages:this.renderHeaderList[r]}})])},handleCurrentChange:function(t){this.pageNo=t,this.getData()},sizeCurrentChange:function(t){this.pageSize=t,this.getData()},onSubmit:function(){this.pageNo=1,this.getData()},handleClick:function(t,e){this.pageNo=1,this.getData()},openUrl:function(t){this.$router.push({path:t})},DateChange:function(){if(this.Datevalue){var t=this.Datevalue[0],e=this.Datevalue[1];this.startTime=this.$moment(t).format("YYYY-MM-DD"),this.endTime=this.$moment(e).format("YYYY-MM-DD"),this.getData()}else this.startTime="",this.endTime="",this.getData()},getData:function(){var t=this,e={AgencyId:this.Id,AccountNumber:this.AccountNumber,NetbarId:this.NetbarId,NetbarName:this.NetbarName,BeginTime:this.startTime,EndTime:this.endTime,State:this.State||"-1",PageSize:this.pageSize,PageIndex:this.pageNo};this.axios.post("/api/Netbar/GetNetbarUserList",e).then(function(e){if("OK"==e.statusText){var a=e.data.Items;t.GetNetbarUserList=a,t.total=e.data.Total}else t.$message.error(e.data.Message)})},UpdateNetbarContactsmation:function(t,e){this.VerifyformationCodeName=!0,this.VerifyformationList.NetbarID=e.NetbarId,this.VerifyformationList.NetbarPhone=e.NetbarPhone,this.VerifyformationList.NetbarContacts=e.NetbarContacts},VerifyInformationSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=e;e.axios.post("/api/Netbar/UpdateNetbarContacts",e.VerifyformationList).then(function(t){"OK"==t.statusText?(a.getData(),a.VerifyformationCodeName=!1,a.$message({message:"编辑成功",type:"success"})):a.$message.error(t.data.Message)})})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ActivityStatistics"},[a("div",{staticClass:"ActivityStatistics_body animated fadeInDown"},[a("div",{staticClass:"title_h3"},[t._v(" 网吧后台管理")]),t._v(" "),a("br"),t._v(" "),a("el-card",{attrs:{shadow:"always"}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"0 5px"},attrs:{inline:!0}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"请选择申请时间："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:t.DateChange},model:{value:t.Datevalue,callback:function(e){t.Datevalue=e},expression:"Datevalue"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"10%"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入网吧名称",clearable:""},on:{clear:t.onSubmit},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.NetbarName,callback:function(e){t.NetbarName=e},expression:"NetbarName"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"10%"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入网吧ID",clearable:""},on:{clear:t.onSubmit},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.NetbarId,callback:function(e){t.NetbarId=e},expression:"NetbarId"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"10%"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入网吧后台账号",clearable:""},on:{clear:t.onSubmit},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.AccountNumber,callback:function(e){t.AccountNumber=e},expression:"AccountNumber"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择网吧状态",clearable:""},on:{change:t.onSubmit},model:{value:t.State,callback:function(e){t.State=e},expression:"State"}},t._l(t.statusList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticStyle:{"margin-bottom":"18px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.openUrl("/IncomeStatement")}}},[t._v("查看每日活动收益详情 ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.openUrl("/RevenueStatistics")}}},[t._v(" 查看网吧活动收益详情 ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.GetNetbarUserList,"tooltip-effect":"dark",border:"","header-cell-style":{background:"rgb(220, 223, 230)",color:"#333"}}},[a("el-table-column",{attrs:{property:"CreateTime",label:"申请日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{property:"AccountNumber",label:"网吧账号","render-header":t.renderHeader}}),t._v(" "),a("el-table-column",{attrs:{property:"NetbarName",label:"网吧名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"NetbarId",label:"网吧ID"}}),t._v(" "),a("el-table-column",{attrs:{property:"NetbarContacts",label:"网吧联系人"}}),t._v(" "),a("el-table-column",{attrs:{property:"NetbarPhone",label:"网吧联系方式"}}),t._v(" "),a("el-table-column",{attrs:{property:"StateName",label:"状态","render-header":t.renderHeader}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.NetbarContacts?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){a.stopPropagation(),t.UpdateNetbarContactsmation(e.$index,e.row)}}},[t._v("编辑网吧信息")]):t._e()]}}])})],1),t._v(" "),a("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"page-sizes":[10,15,20],"page-size":10,"current-page":t.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.sizeCurrentChange}})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑网吧后台登陆账号",visible:t.VerifyformationCodeName,width:"500px"},on:{"update:visible":function(e){t.VerifyformationCodeName=e}}},[a("el-form",{ref:"VerifyformationList",staticClass:"demo-ruleForm",attrs:{model:t.VerifyformationList,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"网吧联系人：",prop:"NetbarContacts"}},[a("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.VerifyformationList.NetbarContacts,callback:function(e){t.$set(t.VerifyformationList,"NetbarContacts",e)},expression:"VerifyformationList.NetbarContacts"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系人手机号：",prop:"NetbarPhone"}},[a("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.VerifyformationList.NetbarPhone,callback:function(e){t.$set(t.VerifyformationList,"NetbarPhone",e)},expression:"VerifyformationList.NetbarPhone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.VerifyformationCodeName=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){t.VerifyInformationSubmit("VerifyformationList")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,s,!1,function(t){a("JlTN")},null,null);e.default=l.exports}});
//# sourceMappingURL=8.03870f408226369ad062.js.map