webpackJsonp([2],{"+87i":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("bOdI"),o=i.n(r),s=(i("NYxO"),i("TIfe"),i("Av7u"),i("Wxq9")),n={name:"Register",data:function(){var e,t=this;return{ImgCode:"",ValidateKey:"",checked:!0,loading:!1,CodeToText:s.CodeToText,TextToCode:s.TextToCode,provinceAndCityData:s.provinceAndCityData,selectedOptions:[],Registershow:!0,Registercount:"",Registertimer:"",RegisterInformationList:{checked:!1,ParentId:""},loginRules:(e={name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 10 个字符",trigger:"blur"}],AccountNumber:[{required:!0,message:"请输入账号",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 10 个字符",trigger:"blur"}],ImgCode:[{required:!0,message:"请输入图形验证码",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],accountNumber:[{required:!0,message:"请输入账号",trigger:"blur"}]},o()(e,"password",[{required:!0,message:"请输入密码",trigger:"blur"}]),o()(e,"Phone",[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[2|3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码"}]),o()(e,"PhoneCode",[{required:!0,message:"请输入验证码",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 10 个字符",trigger:"blur"}]),o()(e,"Password",[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}]),o()(e,"password_confirm",[{required:!0,validator:function(e,i,r){""===i?r(new Error("请再次输入密码")):i!==t.BodifyInformationList.Password?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]),o()(e,"Register_confirm",[{required:!0,validator:function(e,i,r){""===i?r(new Error("请再次输入密码")):i!==t.RegisterInformationList.Password?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]),o()(e,"handleChange",[{type:"date",required:!0,validator:function(e,i,r){t.RegisterInformationList.Area?r():r(new Error("请选择所属地区"))},trigger:"change"}]),e)}},created:function(){this.GetVerifyCode(),this.RegisterInformationList.ParentId=this.$route.query.ParentId},methods:{handleChange:function(e){this.RegisterInformationList.Area=this.CodeToText[e[0]]+this.CodeToText[e[1]]},ForgetPassword:function(e){this.$router.push({path:"/login"})},GetVerifyCode:function(){var e=this;this.axios.get("/api/Account/GetVerifyCode",{}).then(function(t){"OK"==t.statusText?(e.ImgCode="data:image/png;base64,"+t.data.Object.Base64Img,e.ValidateKey=t.data.Object.ValidateKey):e.$message.error(t.data.Message)})},RegisterGetPhoneCode:function(){if(this.RegisterInformationList.Phone)if(this.RegisterInformationList.ImgCode){var e={phone:this.RegisterInformationList.Phone,imgCode:this.RegisterInformationList.ImgCode,validateKey:this.ValidateKey},t=this;this.axios.get("/api/Account/GetPhoneCode",e).then(function(e){"OK"==e.statusText?t.RegistergetCode():(t.GetVerifyCode(),t.RegisterInformationList.ImgCode="",t.$message.error(e.data.Message))})}else this.$message.error("请先输入图形验证码");else this.$message.error("请先输入手机号码")},RegistergetCode:function(){var e=this;this.Registertimer||(this.Registercount=60,this.Registershow=!1,this.Registertimer=setInterval(function(){e.Registercount>0&&e.Registercount<=60?e.Registercount--:(e.Registershow=!0,clearInterval(e.Registertimer),e.Registertimer=null)},1e3))},RegisterSubmit:function(e){var t=this;this.RegisterInformationList.checked?this.$refs[e].validate(function(e){if(!e)return!1;var i={Phone:t.RegisterInformationList.Phone,Name:t.RegisterInformationList.name,LoginPwd:t.RegisterInformationList.Register_confirm,Area:t.RegisterInformationList.Area,ValidateKey:t.ValidateKey,ImgCode:t.RegisterInformationList.ImgCode,PhoneCode:t.RegisterInformationList.PhoneCode,ParentId:t.RegisterInformationList.ParentId},r=t;t.axios.post("/api/Account/Register",i).then(function(e){"OK"==e.statusText?(r.$message({message:"注册成功,请登录！",type:"success"}),r.$router.push({path:"/login"})):r.$message.error(e.data.Message)})}):this.$message.error("请先同意用户协议")}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-box"},[i("div",{staticClass:"login-content"},[i("div",{staticClass:"login_admin"},[i("div",{staticClass:"login-content-form login-container animated fadeInRight",staticStyle:{top:"12%"}},[i("el-form",{ref:"RegisterInformationList",staticClass:"login-form",attrs:{autoComplete:"on",model:e.RegisterInformationList,rules:e.loginRules,"label-position":"left","label-width":"120px"}},[i("div",{staticClass:"login-content-title"},[e._v("\n            推荐注册\n          ")]),e._v(" "),i("el-form-item",{attrs:{label:"手机号码：",prop:"Phone"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码"},model:{value:e.RegisterInformationList.Phone,callback:function(t){e.$set(e.RegisterInformationList,"Phone",t)},expression:"RegisterInformationList.Phone"}})],1),e._v(" "),i("div",{staticClass:"input-box-input"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:16}},[i("el-form-item",{attrs:{label:"图形验证码：",prop:"ImgCode"}},[i("el-input",{attrs:{name:"ImgCode",type:"text",autoComplete:"off",placeholder:"请输入图形验证码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.RegisterInformationList.ImgCode,callback:function(t){e.$set(e.RegisterInformationList,"ImgCode",t)},expression:"RegisterInformationList.ImgCode"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("img",{staticClass:"ImgCode",attrs:{src:e.ImgCode,alt:""},on:{click:function(t){e.GetVerifyCode()}}})])],1)],1),e._v(" "),i("div",{staticStyle:{position:"relative"}},[i("el-form-item",{attrs:{label:"验证码：",prop:"PhoneCode"}},[i("el-input",{staticStyle:{width:"50%"},attrs:{"auto-complete":"off",placeholder:"请输入验证码"},model:{value:e.RegisterInformationList.PhoneCode,callback:function(t){e.$set(e.RegisterInformationList,"PhoneCode",t)},expression:"RegisterInformationList.PhoneCode"}})],1),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.Registershow,expression:"Registershow"}],staticStyle:{position:"absolute",top:"0",right:"0px"},attrs:{type:"primary",icon:"el-icon-mobile-phone"},on:{click:function(t){e.RegisterGetPhoneCode()}}},[e._v("获取验证码")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.Registershow,expression:"!Registershow"}],staticStyle:{position:"absolute",top:"0",right:"0px"},attrs:{type:"primary",icon:"el-icon-mobile-phone"}},[e._v("倒计时"+e._s(e.Registercount)+"s")])],1),e._v(" "),i("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入姓名"},model:{value:e.RegisterInformationList.name,callback:function(t){e.$set(e.RegisterInformationList,"name",t)},expression:"RegisterInformationList.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"设置密码：",prop:"Password"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入新密码"},model:{value:e.RegisterInformationList.Password,callback:function(t){e.$set(e.RegisterInformationList,"Password",t)},expression:"RegisterInformationList.Password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"确认密码：",prop:"Register_confirm"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请确认新密码"},model:{value:e.RegisterInformationList.Register_confirm,callback:function(t){e.$set(e.RegisterInformationList,"Register_confirm",t)},expression:"RegisterInformationList.Register_confirm"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所属地区：",prop:"handleChange"}},[i("el-cascader",{attrs:{size:"large",options:e.provinceAndCityData},on:{change:e.handleChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._v(" "),i("div",{staticClass:"Register_checkboc",staticStyle:{"text-align":"center"}},[i("el-checkbox",{model:{value:e.RegisterInformationList.checked,callback:function(t){e.$set(e.RegisterInformationList,"checked",t)},expression:"RegisterInformationList.checked"}},[e._v("我已经阅读并同意《580网吧特权用户协议》")])],1),e._v(" "),i("el-button",{staticStyle:{width:"100%",height:"40px","font-size":"16px"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.RegisterSubmit("RegisterInformationList")}}},[e._v(" 注 册 ")])],1)],1)])])])},staticRenderFns:[]};var l=i("VU/8")(n,a,!1,function(e){i("fspW")},null,null);t.default=l.exports},"9bBU":function(e,t,i){i("mClu");var r=i("FeBl").Object;e.exports=function(e,t,i){return r.defineProperty(e,t,i)}},C4MV:function(e,t,i){e.exports={default:i("9bBU"),__esModule:!0}},bOdI:function(e,t,i){"use strict";t.__esModule=!0;var r,o=i("C4MV"),s=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,i){return t in e?(0,s.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},fspW:function(e,t){},mClu:function(e,t,i){var r=i("kM2E");r(r.S+r.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})}});
//# sourceMappingURL=2.9cc6b0174760528eaf18.js.map