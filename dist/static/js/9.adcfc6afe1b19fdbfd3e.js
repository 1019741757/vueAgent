webpackJsonp([9],{Wlne:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),o=(a("mtWM"),a("NYxO")),s={name:"FunctionalApplication",data:function(){return{pageSize:10,pageNo:1,total:0,NetbarId:"",NetbarName:"",AccountNumber:"",NetbarAccountNumberState:"",startTime:"",endTime:"",Contacts:"",Datevalue:{},GetNetbarList:[],statusList:[{id:"1",name:"未申请"},{id:"2",name:"申请中"},{id:"3",name:"已申请"}],VerifyformationCodeName:!1,VerifyformationList:{NetbarID:"",NetbarPhone:"",NetbarContacts:""},CreateNetbarUserCodeName:!1,CreateNetbarUserList:{Contacts:"",BindingPhone:""},CreateNetbarUserNetbarID:"",rules:{Contacts:[{required:!0,message:"请输入网吧联系人",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],BindingPhone:[{required:!0,message:"请输入联系人手机号",trigger:"blur"},{pattern:/^1[2|3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码"}],NetbarContacts:[{required:!0,message:"请输入网吧联系人",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],NetbarPhone:[{required:!0,message:"请输入联系人手机号码",trigger:"blur"},{pattern:/^1[2|3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码"}]}}},computed:i()({},Object(o.b)(["Id","AgencyName","AgencyBalance","EarningOfPaying"])),mounted:function(){this.getData()},methods:{FunctiongetUrl:function(){this.$router.push("/FunctionIntroduction")},handleCurrentChange:function(t){this.pageNo=t,this.getData()},sizeCurrentChange:function(t){this.pageSize=t,this.getData()},onSubmit:function(){this.pageNo=1,this.getData()},handleClick:function(t,e){this.pageNo=1,this.getData()},getData:function(){var t=this,e={StartTime:"",EndTime:"",AgencyPhone:"",AgencyName:"",NetbarAccountNumberState:this.NetbarAccountNumberState,Type:0,NetbarName:this.NetbarName,NetbarId:this.NetbarId,PageSize:this.pageSize,PageIndex:this.pageNo};this.axios.post("/api/Netbar/GetNetbarList",e).then(function(e){if("OK"==e.statusText){var a=e.data.Items;t.GetNetbarList=a,t.total=e.data.Total}else t.$message.error(e.data.Message)})},UpdateNetbarContactsmation:function(t,e){this.VerifyformationCodeName=!0,this.VerifyformationList.NetbarID=e.NetbarID,this.VerifyformationList.NetbarPhone=e.NetbarPhone,this.VerifyformationList.NetbarContacts=e.NetbarContacts},VerifyInformationSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=e;e.axios.post("/api/Netbar/UpdateNetbarContacts",e.VerifyformationList).then(function(t){"OK"==t.statusText?(a.getData(),a.VerifyformationCodeName=!1,a.$message({message:"编辑成功",type:"success"})):a.$message.error(t.data.Message)})})},ImmediateApplication:function(t,e){e.MachineCode?(this.CreateNetbarUserNetbarID=e.NetbarID,this.CreateNetbarUserCodeName=!0):this.$message({message:"该网吧未激活，请将产品安装至网吧后再申请网吧活动后台！",type:"error"})},CreateNetbarUsercloseDialog:function(){this.$refs.CreateNetbarUserList.resetFields()},CreateNetbarUserSubmit:function(t){var e=this,a=this,r={NetbarID:this.CreateNetbarUserNetbarID,BindingPhone:this.CreateNetbarUserList.BindingPhone,Contacts:this.CreateNetbarUserList.Contacts};this.$refs[t].validate(function(i){if(!i)return!1;e.axios.post("/api/Netbar/CreateNetbarUser",r).then(function(e){"OK"==e.statusText?(a.getData(),a.CreateNetbarUserCodeName=!1,a.$refs[t].resetFields(),a.$message({message:"添加成功",type:"success"})):(a.$message.error(e.data.Message),a.PrivilegecloseDialog())})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ActivityStatistics"},[a("div",{staticClass:"ActivityStatistics_body animated fadeInDown"},[a("div",{staticClass:"title_h3"},[t._v(" 网吧活动功能申请  "),a("a",{staticStyle:{float:"right",color:"#f08e83",padding:"0 19px"},on:{click:t.FunctiongetUrl}},[t._v("网吧活动功能介绍"),a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("br"),t._v(" "),a("el-card",{attrs:{shadow:"always"}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"0 5px"},attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"筛选条件："}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入网吧名称",clearable:""},on:{clear:t.onSubmit},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.NetbarName,callback:function(e){t.NetbarName=e},expression:"NetbarName"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入网吧ID",clearable:""},on:{clear:t.onSubmit},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.NetbarId,callback:function(e){t.NetbarId=e},expression:"NetbarId"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择网吧状态",clearable:""},on:{change:t.onSubmit},model:{value:t.NetbarAccountNumberState,callback:function(e){t.NetbarAccountNumberState=e},expression:"NetbarAccountNumberState"}},t._l(t.statusList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.GetNetbarList,"tooltip-effect":"dark",border:"","header-cell-style":{background:"rgb(220, 223, 230)",color:"#333"}}},[a("el-table-column",{attrs:{property:"NetbarName",label:"网吧名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{property:"NetbarID",label:"网吧ID"}}),t._v(" "),a("el-table-column",{attrs:{property:"StateName",label:"账号状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"0"==e.row.NetbarAccountNumberState?"danger":"1"==e.row.NetbarAccountNumberState?"primary":(e.row.NetbarAccountNumberState,"success"),"close-transition":""}},[t._v("\n              "+t._s("0"==e.row.NetbarAccountNumberState?"未申请":"1"==e.row.NetbarAccountNumberState?"申请中":"2"==e.row.NetbarAccountNumberState?"已申请":"")+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"NetbarContacts",label:"网吧联系人"}}),t._v(" "),a("el-table-column",{attrs:{property:"NetbarPhone",label:"网吧联系方式"}}),t._v(" "),a("el-table-column",{attrs:{label:"网吧活动功能申请",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.NetbarAccountNumberState?a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){a.stopPropagation(),t.ImmediateApplication(e.$index,e.row)}}},[t._v(" 立即申请 ")]):1==e.row.NetbarAccountNumberState?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-success"}},[t._v("申请中")]):a("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-success"}},[t._v("已申请")]),t._v(" "),e.row.NetbarContacts?a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-edit"},on:{click:function(a){a.stopPropagation(),t.UpdateNetbarContactsmation(e.$index,e.row)}}},[t._v("编辑网吧信息")]):a("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-success"}},[t._v("编辑网吧信息")])]}}])})],1),t._v(" "),a("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"page-sizes":[10,15,20],"page-size":10,"current-page":t.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.sizeCurrentChange}})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提交网吧信息",visible:t.CreateNetbarUserCodeName,width:"500px"},on:{"update:visible":function(e){t.CreateNetbarUserCodeName=e},close:t.CreateNetbarUsercloseDialog}},[a("el-form",{ref:"CreateNetbarUserList",staticClass:"demo-ruleForm",attrs:{model:t.CreateNetbarUserList,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"网吧联系人：",prop:"Contacts"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入网吧联系人"},model:{value:t.CreateNetbarUserList.Contacts,callback:function(e){t.$set(t.CreateNetbarUserList,"Contacts",e)},expression:"CreateNetbarUserList.Contacts"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系人手机号：",prop:"BindingPhone"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入联系人手机号"},model:{value:t.CreateNetbarUserList.BindingPhone,callback:function(e){t.$set(t.CreateNetbarUserList,"BindingPhone",e)},expression:"CreateNetbarUserList.BindingPhone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.CreateNetbarUserCodeName=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){t.CreateNetbarUserSubmit("CreateNetbarUserList")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"重新提交网吧信息",visible:t.VerifyformationCodeName,width:"500px"},on:{"update:visible":function(e){t.VerifyformationCodeName=e}}},[a("el-form",{ref:"VerifyformationList",staticClass:"demo-ruleForm",attrs:{model:t.VerifyformationList,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"网吧联系人：",prop:"NetbarContacts"}},[a("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.VerifyformationList.NetbarContacts,callback:function(e){t.$set(t.VerifyformationList,"NetbarContacts",e)},expression:"VerifyformationList.NetbarContacts"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系人手机号：",prop:"NetbarPhone"}},[a("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.VerifyformationList.NetbarPhone,callback:function(e){t.$set(t.VerifyformationList,"NetbarPhone",e)},expression:"VerifyformationList.NetbarPhone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.VerifyformationCodeName=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){t.VerifyInformationSubmit("VerifyformationList")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("lmZw")},null,null);e.default=l.exports},lmZw:function(t,e){}});
//# sourceMappingURL=9.adcfc6afe1b19fdbfd3e.js.map