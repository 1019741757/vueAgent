webpackJsonp([7],{"/NPO":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("mtWM"),a("XLwt");var n={name:"getbill",data:function(){return{pageSize:10,pageNo:1,total:0,startTime:"",endTime:"",Datevalue:{},GetAgencyEarningByPageList:[],myChart:{},renderHeaderList:{1:"即为580网吧特权客户端程序在终端开机时自动显示页面并启动客户端程序",2:"即为580网吧特权客户端程序在终端开机时不显示客户端程序页面，程序依然运行",3:"即为您所推荐的下级所产生的收益数据的推荐奖励分成金额",4:"即为网吧开通活动后台后，所产生的活动分成收益金额"}}},mounted:function(){var e=new Date((new Date).setDate((new Date).getDate())),t=new Date((new Date).setDate(e.getDate()-6));this.Datevalue=[t,e],this.endTime=this.$moment(e).format("YYYY-MM-DD"),this.startTime=this.$moment(t).format("YYYY-MM-DD"),this.getData()},methods:{renderHeader:function(e,t){var a=t.column,n=t.$index;return e("div",{style:"display:flex;margin:auto;line-height: 26px;padding: 0;"},[e("span",a.label),e("prompt-message",{props:{messages:this.renderHeaderList[n]}})])},handleCurrentChange:function(e){this.pageNo=e,this.getData()},sizeCurrentChange:function(e){this.pageSize=e,this.getData()},onSubmit:function(){this.pageNo=1,this.getData()},handleClick:function(e,t){this.pageNo=1,this.getData()},DateChange:function(){if(this.Datevalue){var e=this.Datevalue[0],t=this.Datevalue[1];this.startTime=this.$moment(e).format("YYYY-MM-DD"),this.endTime=this.$moment(t).format("YYYY-MM-DD"),this.getData()}else this.startTime="",this.endTime="",this.getData()},getData:function(){var e=this,t={startTime:this.startTime+"T00:00:00",endTime:this.endTime+"T00:00:00",PageSize:this.pageSize,PageIndex:this.pageNo};this.axios.get("/api/AgencyEarning/GetAgencyEarningByPage",t).then(function(t){if("OK"==t.statusText){console.log(t),e.Echartspasotr();var a=t.data.Items;e.GetAgencyEarningByPageList=a,e.total=t.data.Total}else e.$message.error(t.data.Message)})},Echartspasotr:function(e){var t=this,a={startTime:this.startTime+"T00:00:00",endTime:this.endTime+"T00:00:00",PageSize:1e5,PageIndex:1};this.axios.get("/api/AgencyEarning/GetAgencyEarningByPage",a).then(function(e){if("OK"==e.statusText){for(var a=e.data.Items,n=[],i=[],r=[],s=[],l=0;l<a.length;l++)s.push(a[l].DateOfEarningStr),n.push(a[l].OpenWindowClientEarning),i.push(a[l].EarningFromSubordinate),r.push(a[l].EarningFromSubordinate);t.$echarts.init(document.getElementById("Echarts_IncomeStatement")).setOption({title:{text:"近期收益曲线图：",x:"left",textStyle:{color:"#606266",fontSize:14,fontWeight:"bold"}},color:["#f5d452","#ff6d60","#69cdc5"],tooltip:{trigger:"axis"},legend:{data:["580特权客户端（显示）","580特权客户端（不显示）","推荐奖励收益"]},xAxis:{name:"日期（年/月/日）",type:"category",boundaryGap:!1,data:s},yAxis:{name:"收益(元)",type:"value"},series:[{name:"580特权客户端（显示）",type:"line",stack:"总量",data:n},{name:"580特权客户端（不显示）",type:"line",stack:"总量",data:i},{name:"推荐奖励收益",type:"line",stack:"总量",data:r}]})}else _this.$message.error(e.data.Message)})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ActivityStatistics"},[a("div",{staticClass:"ActivityStatistics_body animated fadeInDown"},[a("div",{staticClass:"title_h3"},[e._v(" 收益账单")]),e._v(" "),e._m(0),e._v(" "),a("el-card",{attrs:{shadow:"always"}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"0 5px"},attrs:{inline:!0}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"请选择申请时间："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1},on:{change:e.DateChange},model:{value:e.Datevalue,callback:function(t){e.Datevalue=t},expression:"Datevalue"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),a("div",{style:{width:"100%",height:"320px"},attrs:{id:"Echarts_IncomeStatement"}}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.GetAgencyEarningByPageList,"tooltip-effect":"dark",border:"","header-cell-style":{background:"rgb(220, 223, 230)",color:"#333"}}},[a("el-table-column",{attrs:{property:"CreateTime",label:"日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.DateOfEarningStr))])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"OpenWindowClientEarning",label:"580特权客户端(显示)(元)","render-header":e.renderHeader}}),e._v(" "),a("el-table-column",{attrs:{property:"NotOpenWindowClientEarning",label:"580特权客户端(不显示)(元)","render-header":e.renderHeader}}),e._v(" "),a("el-table-column",{attrs:{property:"EarningFromSubordinate",label:"推荐奖励收益(元)","render-header":e.renderHeader}}),e._v(" "),a("el-table-column",{attrs:{property:"ActivitySub",label:"活动收益","render-header":e.renderHeader}}),e._v(" "),a("el-table-column",{attrs:{property:"HomePage",label:"增值业务"}}),e._v(" "),a("el-table-column",{attrs:{property:"SumEarning",label:"当日总计(元)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"State",label:"收益状态",align:"center",width:"120","filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"0"==t.row.State?"danger":"1"==t.row.State?"success":"","close-transition":""}},[e._v("\r\n              "+e._s("0"==t.row.State?"未结算":"1"==t.row.State?"已结算":"")+"\r\n            ")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"page-sizes":[10,15,20],"page-size":10,"current-page":e.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.sizeCurrentChange}})],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title_pop"},[t("span",[t("a",[this._v("   注：收益结算后，15个工作日计入可提现收益内，只有计入可提现收益内的余额，才可提现")])])])}]};var r=a("VU/8")(n,i,!1,function(e){a("wVm4")},null,null);t.default=r.exports},wVm4:function(e,t){}});
//# sourceMappingURL=7.b0b00069a135920982e2.js.map